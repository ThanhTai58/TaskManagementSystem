@model Project

@{
    ViewData["Title"] = "TotalCostDetails";
}

<h1 class="mb-4 text-center">TotalCostDetails</h1>
<hr />
<h3>Project Name: @Model.Name</h3>
<h4>Total Cost: $@Model.TotalCost()</h4>
<div class="mb-3">
    <a asp-action="Index" class="btn btn-secondary">Back to List</a>
</div>

<table class="table table-striped">
    <thead>
        <tr>
            <th>UserName</th>
            <th>StartDate</th>
            <th>EndDate</th>
            <th>DailySalary</th>
            <th>Work Days</th>
            <th>Cost</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.ProejectAndUsers)
        {
            <tr>
                <td>@item.AppUser.UserName</td>
                <td>@item.StartDate.ToString("MM/dd/yyyy")</td>
                <td>@item.EndDate.ToString("MM/dd/yyyy")</td>
                <td>@item.AppUser.DailySalary</td>
                <td>
                    @if (DateTime.Today >= item.EndDate)
                    {
                        @((item.EndDate - item.StartDate).Days + 1)
                    }
                    else
                    {
                        @((DateTime.Today - item.StartDate).Days + 1)
                    }
                    ngày
                </td>
                <td>
                    $
                    @if (DateTime.Today >= item.EndDate)
                    {
                        @(item.AppUser.DailySalary * ((item.EndDate - item.StartDate).Days + 1))
                    }
                    else
                    {
                        @(item.AppUser.DailySalary * ((DateTime.Today - item.StartDate).Days + 1))
                    }
                </td>
            </tr>
        }
    </tbody>
</table>
